!function(global,factory){"object"==typeof exports&&"undefined"!=typeof module?module.exports=factory():"function"==typeof define&&define.amd?define(factory):global.Rainbow=factory()}(this,function(){"use strict";function isNode$1(){return"undefined"!=typeof module&&"object"==typeof module.exports}function isWorker$1(){return"undefined"==typeof document&&"undefined"!=typeof self}function getLanguageForBlock(block){var language=block.getAttribute("data-language")||block.parentNode.getAttribute("data-language");if(!language){var pattern=/\blang(?:uage)?-(\w+)/,match=block.className.match(pattern)||block.parentNode.className.match(pattern);match&&(language=match[1])}return language?language.toLowerCase():null}function hasCompleteOverlap(start1,end1,start2,end2){return(start2!==start1||end2!==end1)&&(start2<=start1&&end2>=end1)}function htmlEntities(code){return code.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/&(?![\w\#]+;)/g,"&amp;")}function indexOfGroup(match,groupNumber){for(var index=0,i=1;i<groupNumber;++i)match[i]&&(index+=match[i].length);return index}function intersects(start1,end1,start2,end2){return start2>=start1&&start2<end1||end2>start1&&end2<end1}function keys(object){var locations=[];for(var location in object)object.hasOwnProperty(location)&&locations.push(location);return locations.sort(function(a,b){return b-a})}function replaceAtPosition(position,replace,replaceWith,code){var subString=code.substr(position);return code.substr(0,position)+subString.replace(replace,replaceWith)}function createWorker(fn,Prism){if(isNode$1())return global.Worker=require("webworker-threads").Worker,new Worker(__filename);var prismFunction=Prism.toString(),code=keys.toString();code+=htmlEntities.toString(),code+=hasCompleteOverlap.toString(),code+=intersects.toString(),code+=replaceAtPosition.toString(),code+=indexOfGroup.toString(),code+=prismFunction;var prismName=prismFunction.match(/function (\w+?)\(/)[1],str=fn.toString();str=str.replace(/=new \w+/,"= new "+prismName);var fullString=code+"\tthis.onmessage ="+str,blob=new Blob([fullString],{type:"text/javascript"});return new Worker((window.URL||window.webkitURL).createObjectURL(blob))}function rainbowWorker(e){function _reply(){self.postMessage({id:message.id,lang:message.lang,result:result})}var message=e.data,prism=new Prism(message.options),result=prism.refract(message.code,message.lang);return message.isNode?(_reply(),void self.close()):void setTimeout(function(){_reply()},1e3*message.options.delay)}function _getWorker(){return(isNode||null===cachedWorker)&&(cachedWorker=createWorker(rainbowWorker,Prism)),cachedWorker}function _messageWorker(message,callback){function _listen(e){e.data.id===message.id&&(callback(e.data),worker.removeEventListener("message",_listen))}var worker=_getWorker();worker.addEventListener("message",_listen),worker.postMessage(message)}function _generateHandler(element,waitingOn,callback){return function(data){element.innerHTML=data.result,element.classList.remove("loading"),"PRE"===element.parentNode.tagName&&element.parentNode.classList.remove("loading"),onHighlightCallback&&onHighlightCallback(element,data.lang),0===--waitingOn.c&&callback()}}function _getPrismOptions(options){return{patterns:patterns,inheritenceMap:inheritenceMap,aliases:aliases,globalClass:options.globalClass,delay:isNaN(options.delay)?0:options.delay}}function _getWorkerData(code,lang){var options={};"object"==typeof lang&&(options=lang,lang=options.language),lang=aliases[lang]||lang;var workerData={id:String.fromCharCode(65+Math.floor(26*Math.random()))+Date.now(),code:code,lang:lang,options:_getPrismOptions(options),isNode:isNode};return workerData}function _highlightCodeBlocks(codeBlocks,callback){for(var waitingOn={c:0},i=0,list=codeBlocks;i<list.length;i+=1){var block=list[i],language=getLanguageForBlock(block);if(!block.classList.contains("rainbow")&&language){block.classList.add("loading"),block.classList.add("rainbow"),"PRE"===block.parentNode.tagName&&block.parentNode.classList.add("loading");var globalClass=block.getAttribute("data-global-class"),delay=parseInt(block.getAttribute("data-delay"),10);++waitingOn.c,_messageWorker(_getWorkerData(block.innerHTML,{language:language,globalClass:globalClass,delay:delay}),_generateHandler(block,waitingOn,callback))}}0===waitingOn.c&&callback()}function _addPreloader(preBlock){var preloader=document.createElement("div");preloader.className="preloader";for(var i=0;i<7;i++)preloader.appendChild(document.createElement("div"));preBlock.appendChild(preloader)}function _highlight(node,callback){callback=callback||function(){},node=node&&"function"==typeof node.getElementsByTagName?node:document;for(var preBlocks=node.getElementsByTagName("pre"),codeBlocks=node.getElementsByTagName("code"),finalPreBlocks=[],finalCodeBlocks=[],i=0,list=preBlocks;i<list.length;i+=1){var preBlock=list[i];_addPreloader(preBlock),preBlock.getElementsByTagName("code").length?preBlock.getAttribute("data-trimmed")||(preBlock.setAttribute("data-trimmed",!0),preBlock.innerHTML=preBlock.innerHTML.trim()):finalPreBlocks.push(preBlock)}for(var i$1=0,list$1=codeBlocks;i$1<list$1.length;i$1+=1){var codeBlock=list$1[i$1];finalCodeBlocks.push(codeBlock)}_highlightCodeBlocks(finalCodeBlocks.concat(finalPreBlocks),callback)}function onHighlight(callback){onHighlightCallback=callback}function extend(language,languagePatterns,inherits){inheritenceMap[language]||(inheritenceMap[language]=inherits),patterns[language]=languagePatterns.concat(patterns[language]||[])}function remove(language){delete inheritenceMap[language],delete patterns[language]}function color(){for(var args=[],len=arguments.length;len--;)args[len]=arguments[len];if("string"==typeof args[0]){var workerData=_getWorkerData(args[0],args[1]);return void _messageWorker(workerData,function(cb){return function(data){cb&&cb(data.result,data.lang)}}(args[2]))}return"function"==typeof args[0]?void _highlight(0,args[0]):void _highlight(args[0],args[1])}function addAlias(alias,originalLanguage){aliases[alias]=originalLanguage}var onHighlightCallback,Prism=function Prism(options){function _matchIsInsideOtherMatch(start,end){for(var key in replacementPositions)if(key=parseInt(key,10),hasCompleteOverlap(key,replacementPositions[key],start,end)&&(delete replacementPositions[key],delete replacements[key]),intersects(key,replacementPositions[key],start,end))return!0;return!1}function _wrapCodeInSpan(name,code){var className=name.replace(/\./g," "),globalClass=options.globalClass;return globalClass&&(className+=" "+globalClass),'<span class="'+className+'">'+code+"</span>"}function _processReplacements(code){for(var positions=keys(replacements),i=0,list=positions;i<list.length;i+=1){var position=list[i],replacement=replacements[position];code=replaceAtPosition(position,replacement.replace,replacement.with,code)}return code}function _cloneRegex(regex){var flags="";return regex.ignoreCase&&(flags+="i"),regex.multiline&&(flags+="m"),new RegExp(regex.source,flags)}function _processPattern(pattern,code,offset){function onMatchSuccess(repl){return pattern.name&&(repl=_wrapCodeInSpan(pattern.name,repl)),replacements[startPos]={replace:match[0],with:repl},replacementPositions[startPos]=endPos,!shouldStop&&{remaining:code.substr(endPos-offset),offset:endPos}}function _processGroup(groupKey){var block=match[groupKey];if(block){var group=pattern.matches[groupKey],language=group.language,groupToProcess=group.name&&group.matches?group.matches:group,_getReplacement=function(passedBlock,replaceBlock,matchName){replacement=replaceAtPosition(indexOfGroup(match,groupKey),passedBlock,matchName?_wrapCodeInSpan(matchName,replaceBlock):replaceBlock,replacement)};if("string"==typeof group)return void _getReplacement(block,block,group);var localCode,prism=new Prism(options);if(language)return localCode=prism.refract(block,language),void _getReplacement(block,localCode);localCode=prism.refract(block,currentLanguage,groupToProcess.length?groupToProcess:[groupToProcess]),_getReplacement(block,localCode,group.matches?group.name:0)}}void 0===offset&&(offset=0);var regex=pattern.pattern;if(!regex)return!1;var shouldStop=!regex.global;regex=_cloneRegex(regex);var match=regex.exec(code);if(!match)return!1;!pattern.name&&pattern.matches&&"string"==typeof pattern.matches[0]&&(pattern.name=pattern.matches[0],delete pattern.matches[0]);var replacement=match[0],startPos=match.index+offset,endPos=match[0].length+startPos;if(startPos===endPos)return!1;if(_matchIsInsideOtherMatch(startPos,endPos))return{remaining:code.substr(endPos-offset),offset:endPos};for(var groupKeys=keys(pattern.matches),i=0,list=groupKeys;i<list.length;i+=1){var groupKey=list[i];_processGroup(groupKey)}return onMatchSuccess(replacement)}function _processCodeWithPatterns(code,patterns){for(var i=0,list=patterns;i<list.length;i+=1)for(var pattern=list[i],result=_processPattern(pattern,code);result;)result=_processPattern(pattern,result.remaining,result.offset);return _processReplacements(code)}function getPatternsForLanguage(language){for(var patterns=options.patterns[language]||[];options.inheritenceMap[language];)language=options.inheritenceMap[language],patterns=patterns.concat(options.patterns[language]||[]);return patterns}function _highlightBlockForLanguage(code,language,patterns){return currentLanguage=language,patterns=patterns||getPatternsForLanguage(language),_processCodeWithPatterns(htmlEntities(code),patterns)}var currentLanguage,replacements={},replacementPositions={};this.refract=_highlightBlockForLanguage},patterns={},inheritenceMap={},aliases={},Rainbow={},isNode=isNode$1(),isWorker=isWorker$1(),cachedWorker=null;Rainbow={extend:extend,remove:remove,onHighlight:onHighlight,addAlias:addAlias,color:color},isNode&&(Rainbow.colorSync=function(code,lang){var workerData=_getWorkerData(code,lang),prism=new Prism(workerData.options);return prism.refract(workerData.code,workerData.lang)}),isNode||isWorker||document.addEventListener("DOMContentLoaded",function(event){Rainbow.defer||Rainbow.color(event)},!1),isWorker&&(self.onmessage=rainbowWorker);var Rainbow$1=Rainbow;return Rainbow$1}),Rainbow.extend("generic",[{matches:{1:[{name:"keyword.operator",pattern:/\=|\+/g},{name:"keyword.dot",pattern:/\./g}],2:{name:"string",matches:{name:"constant.character.escape",pattern:/\\('|"){1}/g}}},pattern:/(\(|\s|\[|\=|:|\+|\.|\{|,)(('|")([^\\\1]|\\.)*?(\3))/gm},{name:"comment",pattern:/\/\*[\s\S]*?\*\/|(\/\/|\#)(?!.*('|").*?[^:](\/\/|\#)).*?$/gm},{name:"constant.numeric",pattern:/\b(\d+(\.\d+)?(e(\+|\-)?\d+)?(f|d)?|0x[\da-f]+)\b/gi},{matches:{1:"keyword"},pattern:/\b(and|array|as|b(ool(ean)?|reak)|c(ase|atch|har|lass|on(st|tinue))|d(ef|elete|o(uble)?)|e(cho|lse(if)?|xit|xtends|xcept)|f(inally|loat|or(each)?|unction)|global|if|import|int(eger)?|long|new|object|or|pr(int|ivate|otected)|public|return|self|st(ring|ruct|atic)|switch|th(en|is|row)|try|(un)?signed|var|void|while)(?=\b)/gi},{name:"constant.language",pattern:/true|false|null/g},{name:"keyword.operator",pattern:/\+|\!|\-|&(gt|lt|amp);|\||\*|\=/g},{matches:{1:"function.call"},pattern:/(\w+?)(?=\()/g},{matches:{1:"storage.function",2:"entity.name.function"},pattern:/(function)\s(.*?)(?=\()/g}]),Rainbow.extend("python",[{name:"variable.self",pattern:/self/g},{name:"constant.language",pattern:/None|True|False|NotImplemented|\.\.\./g},{name:"support.object",pattern:/object/g},{name:"support.function.python",pattern:/\b(bs|divmod|input|open|staticmethod|all|enumerate|int|ord|str|any|eval|isinstance|pow|sum|basestring|execfile|issubclass|print|super|bin|file|iter|property|tuple|bool|filter|len|range|type|bytearray|float|list|raw_input|unichr|callable|format|locals|reduce|unicode|chr|frozenset|long|reload|vars|classmethod|getattr|map|repr|xrange|cmp|globals|max|reversed|zip|compile|hasattr|memoryview|round|__import__|complex|hash|min|set|apply|delattr|help|next|setattr|buffer|dict|hex|object|slice|coerce|dir|id|oct|sorted|intern)(?=\()/g},{matches:{1:"keyword"},pattern:/\b(pass|lambda|with|is|not|in|from|elif|raise|del)(?=\b)/g},{matches:{1:"storage.class",2:"entity.name.class",3:"entity.other.inherited-class"},pattern:/(class)\s+(\w+)\((\w+?)\)/g},{matches:{1:"storage.function",2:"support.magic"},pattern:/(def)\s+(__\w+)(?=\()/g},{name:"support.magic",pattern:/__(name)__/g},{matches:{1:"keyword.control",2:"support.exception.type"},pattern:/(except) (\w+):/g},{matches:{1:"storage.function",2:"entity.name.function"},pattern:/(def)\s+(\w+)(?=\()/g},{name:"entity.name.function.decorator",pattern:/@([\w\.]+)/g},{name:"comment.docstring",pattern:/('{3}|"{3})[\s\S]*?\1/gm}],"generic"),Rainbow.extend("javascript",[{name:"selector",pattern:/\$(?=\.|\()/g},{name:"support",pattern:/\b(window|document)\b/g},{name:"keyword",pattern:/\b(export|default|from)\b/g},{name:"function.call",pattern:/\b(then)(?=\()/g},{name:"variable.language.this",pattern:/\bthis\b/g},{name:"variable.language.super",pattern:/super(?=\.|\()/g},{name:"storage.type",pattern:/\b(const|let|var)(?=\s)/g},{matches:{1:"support.property"},pattern:/\.(length|node(Name|Value))\b/g},{matches:{1:"support.function"},pattern:/(setTimeout|setInterval)(?=\()/g},{matches:{1:"support.method"},pattern:/\.(getAttribute|replace|push|getElementById|getElementsByClassName|setTimeout|setInterval)(?=\()/g},{name:"string.regexp",matches:{1:"string.regexp.open",2:{name:"constant.regexp.escape",pattern:/\\(.){1}/g},3:"string.regexp.close",4:"string.regexp.modifier"},pattern:/(\/)((?![*+?])(?:[^\r\n\[\/\\]|\\.|\[(?:[^\r\n\]\\]|\\.)*\])+)(\/)(?!\/)([igm]{0,3})/g},{matches:{1:"storage.type",3:"entity.function"},pattern:/(var)?(\s|^)(\S+)(?=\s?=\s?function\()/g},{matches:{1:"keyword",2:"variable.type"},pattern:/(new)\s+(?!Promise)([^\(]*)(?=\()/g},{name:"entity.function",pattern:/(\w+)(?=:\s{0,}function)/g},{name:"constant.other",pattern:/\*(?= as)/g},{matches:{1:"keyword",2:"constant.other"},pattern:/(export)\s+(\*)/g},{matches:{1:"storage.type.accessor",2:"entity.name.function"},pattern:/(get|set)\s+(\w+)(?=\()/g},{matches:{2:"entity.name.function"},pattern:/(^\s*)(\w+)(?=\([^\)]*?\)\s*\{)/gm},{matches:{1:"storage.type.class",2:"entity.name.class",3:"storage.modifier.extends",4:"entity.other.inherited-class"},pattern:/(class)\s+(\w+)(?:\s+(extends)\s+(\w+))?(?=\s*\{)/g},{name:"storage.type.function.arrow",pattern:/=&gt;/g},{name:"support.class.promise",pattern:/\bPromise(?=(\(|\.))/g}],"generic"),Rainbow.addAlias("js","javascript"),Rainbow.extend("html",[{name:"source.php.embedded",matches:{1:"variable.language.php-tag",2:{language:"php"},3:"variable.language.php-tag"},pattern:/(&lt;\?php|&lt;\?=?(?!xml))([\s\S]*?)(\?&gt;)/gm},{name:"source.css.embedded",matches:{1:{matches:{1:"support.tag.style",2:[{name:"entity.tag.style",pattern:/^style/g},{name:"string",pattern:/('|")(.*?)(\1)/g},{name:"entity.tag.style.attribute",pattern:/(\w+)/g}],3:"support.tag.style"},pattern:/(&lt;\/?)(style.*?)(&gt;)/g},2:{language:"css"},3:"support.tag.style",4:"entity.tag.style",5:"support.tag.style"},pattern:/(&lt;style.*?&gt;)([\s\S]*?)(&lt;\/)(style)(&gt;)/gm},{name:"source.js.embedded",matches:{1:{matches:{1:"support.tag.script",2:[{name:"entity.tag.script",pattern:/^script/g},{name:"string",pattern:/('|")(.*?)(\1)/g},{name:"entity.tag.script.attribute",pattern:/(\w+)/g}],3:"support.tag.script"},pattern:/(&lt;\/?)(script.*?)(&gt;)/g},2:{language:"javascript"},3:"support.tag.script",4:"entity.tag.script",5:"support.tag.script"},pattern:/(&lt;script(?! src).*?&gt;)([\s\S]*?)(&lt;\/)(script)(&gt;)/gm},{name:"comment.html",pattern:/&lt;\!--[\S\s]*?--&gt;/g},{matches:{1:"support.tag.open",2:"support.tag.close"},pattern:/(&lt;)|(\/?\??&gt;)/g},{name:"support.tag",matches:{1:"support.tag",2:"support.tag.special",3:"support.tag-name"},pattern:/(&lt;\??)(\/|\!?)(\w+)/g},{matches:{1:"support.attribute"},pattern:/([a-z-]+)(?=\=)/gi},{matches:{1:"support.operator",2:"string.quote",3:"string.value",4:"string.quote"},pattern:/(=)('|")(.*?)(\2)/g},{matches:{1:"support.operator",2:"support.value"},pattern:/(=)([a-zA-Z\-0-9]*)\b/g},{matches:{1:"support.attribute"},pattern:/\s([\w-]+)(?=\s|&gt;)(?![\s\S]*&lt;)/g}]),Rainbow.addAlias("xml","html"),Rainbow.extend("css",[{name:"comment",pattern:/\/\*[\s\S]*?\*\//gm},{name:"constant.hex-color",pattern:/#([a-f0-9]{3}|[a-f0-9]{6})(?=;|\s|,|\))/gi},{matches:{1:"constant.numeric",2:"keyword.unit"},pattern:/(\d+)(px|em|cm|s|%)?/g},{name:"string",pattern:/('|")(.*?)\1/g},{name:"support.css-property",matches:{1:"support.vendor-prefix"},pattern:/(-o-|-moz-|-webkit-|-ms-)?[\w-]+(?=\s?:)(?!.*\{)/g},{matches:{1:[{name:"entity.name.sass",pattern:/&amp;/g},{name:"direct-descendant",pattern:/&gt;/g},{name:"entity.name.class",pattern:/\.[\w\-_]+/g},{name:"entity.name.id",pattern:/\#[\w\-_]+/g},{name:"entity.name.pseudo",pattern:/:[\w\-_]+/g},{name:"entity.name.tag",pattern:/\w+/g}]},pattern:/([\w\ ,\n:\.\#\&\;\-_]+)(?=.*\{)/g},{matches:{2:"support.vendor-prefix",3:"support.css-value"},pattern:/(:|,)\s*(-o-|-moz-|-webkit-|-ms-)?([a-zA-Z-]*)(?=\b)(?!.*\{)/g}]),Rainbow.addAlias("scss","css"),Rainbow.extend("json",[{matches:{0:{name:"string",matches:{name:"constant.character.escape",pattern:/\\('|"){1}/g}}},pattern:/(\"|\')(\\?.)*?\1/g},{name:"constant.numeric",pattern:/\b(-?(0x)?\d*\.?[\da-f]+|NaN|-?Infinity)\b/gi},{name:"constant.language",pattern:/\b(true|false|null)\b/g}]),Rainbow.extend("shell",[{name:"shell",matches:{1:{language:"shell"}},pattern:/\$\(([\s\S]*?)\)/gm},{matches:{2:"string"},pattern:/(\(|\s|\[|\=)(('|")[\s\S]*?(\3))/gm},{name:"keyword.operator",pattern:/&lt;|&gt;|&amp;/g},{name:"comment",pattern:/\#[\s\S]*?$/gm},{name:"storage.function",pattern:/(.+?)(?=\(\)\s{0,}\{)/g},{name:"support.command",pattern:/\b(echo|rm|ls|(mk|rm)dir|cd|find|cp|exit|pwd|exec|trap|source|shift|unset)/g},{matches:{1:"keyword"},pattern:/\b(break|case|continue|do|done|elif|else|esac|eval|export|fi|for|function|if|in|local|return|set|then|unset|until|while)(?=\b)/g}]);